# Spec Package Review — Codex Tasks Watcher

## Checklist соответствия брифу
- [x] Stakeholders & Scope зафиксированы в `spec/context.md`.
- [x] Domain glossary определяет ключевые термины (detectors, aggregated state, notification).
- [x] Use cases UC-1..UC-4 покрывают основные сценарии из брифа.
- [x] Capabilities и состояния описаны, включая антидребезг и alarm пинг.
- [x] Heartbeat описан как обязательный механизм живости вкладок (контракты, состояния, тесты).
- [x] Детекторы документированы с сигнатурами и стратегиями устойчивости.
- [x] NFR охватывают производительность, приватность, UX.
- [x] JSON Schema и OpenAPI оформлены для DTO и внутренних API.
- [x] Диаграммы иллюстрируют поток данных и состояния.
- [x] Test plan содержит приемочные критерии для MVP.
- [x] Implementation plan задаёт структуру проекта и зависимостей.

## Основные риски
1. **Изменения DOM Codex** — детекторы могут устареть; требуется мониторинг и быстрая корректировка конфигов.
2. **Спящий service worker MV3** — возможны задержки в применении `autoDiscardable` и приёме heartbeat; mitigated через alarm, учёт `missedCount` и повторную инициализацию.
3. **Локализация** — поддержка дополнительных языков (кроме RU/EN) потребует обновления словарей и тестов.

## Рекомендации перед реализацией
- Настроить генерацию типов из JSON Schema до написания кода.
- Подготовить фикстуры DOM (скриншоты/HTML) для детекторов на обеих локализациях.
- Решить, будет ли использоваться `webextension-polyfill` или чистый Chrome API, и задокументировать выбор (ADR при необходимости).

## Статус
- Все этапы roadmap закрыты (☑ DONE).
- Спецификации согласованы и готовы к переходу в стадию реализации.
